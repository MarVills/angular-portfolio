<section id="contact">
  <form (ngSubmit)="sendEmailJs()" #contactForm="ngForm">
    <div class="container mb-5">
      <h2>
        <strong>{{ "contact.contactMe" | translate }}</strong>
      </h2>
      <span class="bar-title mb-5"></span>
      <div
        class="row"
        data-aos="fade-up"
        data-aos-anchor-placement="top-center"
      >
        <div class="col-md-3 col-lg-3">
          <div class="contact-info">
            <img src="assets/images/contact-image.png" alt="image" />
            <h4>{{ "contact.notHesitateToContactMe" | translate }}</h4>
          </div>
        </div>
        <div class="col-md-9">
          <div class="contact-form">
            <div class="form-group">
              <label class="control-label col-sm-2" for="identite">{{
                "contact.name" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  type="text"
                  class="form-control"
                  id="identite"
                  placeholder="{{ 'contact.enterName' | translate }}"
                  name="fname"
                  [(ngModel)]="name"
                />
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="email">{{
                "contact.email" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="{{ 'contact.enterEmail' | translate }}"
                  name="email"
                  [(ngModel)]="email"
                />
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="object">{{
                "contact.subject" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  type="text"
                  class="form-control"
                  id="object"
                  placeholder="{{ 'contact.enterSubject' | translate }}"
                  name="object"
                  [(ngModel)]="subject"
                />
              </div>
            </div>
            <div class="form-group column align-items-start">
              <label class="col-sm-2 col-form-label">
                {{ "contact.attachment" | translate }}
              </label>
              <div class="col-sm-10">
                <div class="custom-file-wrapper mb-2">
                  <button type="button" class="btn btn-primary btn-file">
                    Select Files
                  </button>
                  <input
                    #fileInput
                    type="file"
                    multiple
                    (change)="onFileSelected($event)"
                  />
                </div>
                <div *ngIf="selectedFiles.length" class="selected-files">
                  <div
                    class="file-badge"
                    *ngFor="let file of selectedFiles; let i = index"
                  >
                    <span class="file-name" (click)="previewFile(file)">
                      {{ file.name }}
                    </span>
                    <span class="remove-file" (click)="removeFile(i)">
                      <i class="bi bi-x-circle-fill"></i>
                    </span>
                  </div>
                  <span class="remove-file" (click)="clearAllFiles()">
                    <i class="bi bi-trash"></i>
                    <span> Clear all</span>
                  </span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2" for="comment">{{
                "contact.message" | translate
              }}</label>
              <div class="col-sm-10">
                <textarea
                  class="form-control"
                  rows="5"
                  id="comment"
                  name="message"
                  [(ngModel)]="message"
                  required
                ></textarea>
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <button
                  type="submit"
                  class="btn btn-default"
                  [disabled]="isSending"
                >
                  <span *ngIf="!isSending">
                    {{ "contact.send" | translate }}
                  </span>
                  <span *ngIf="isSending">
                    <i class="fa fa-spinner fa-spin" aria-hidden="true"></i>
                    <span> {{ "contact.sending" | translate }}... </span>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</section>

<app-file-preview-dialog
  [fileName]="previewFileName"
  [fileUrl]="previewFileUrl"
  [visible]="showPreview"
  [ngClass]="fadeClass"
  (close)="closePreview()"
>
</app-file-preview-dialog>
